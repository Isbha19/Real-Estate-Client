
   <div class="chatPopup">
  
    <div class="chat">
        <div class="contact bar">
            <div class="pic stark"></div>
            <div class="name">{{agentName}} <span [class.is-online]="(signalR.onlineUsers$ | async)?.includes('ca81531a-04a6-421f-b2f2-38f00aee9308')"><i class="fa fa-user mr-2"></i></span></div>
            <div class="seen">Today at 12:56</div>
            <div class="close-btn" (click)="onCloseChat()">Ã—</div>

        </div>
        <div id="chat" #chat class="messages" >
            <div *ngIf="(messageService.messageThread$|async)?.length===0">
               No messages to yet.. Start conversation by saying hi
              </div>
            <div *ngIf="(messageService.messageThread$|async)?.length?? 0 > 0">
                <div class="time">Today at 11:41</div> 
            <ng-container *ngFor="let message of (messageService.messageThread$|async)">
              <div [ngClass]="{'message': true, 'stark': message.senderName === agentName, 'parker': message.senderName !== agentName}">
                {{ message.content }}
              </div>
            </ng-container>
            </div>
          
            <div class="message stark">
                <div class="typing typing-1"></div>
                <div class="typing typing-2"></div>
                <div class="typing typing-3"></div>
            </div>
        </div>
        <div class="input">
            <i class="fas fa-camera"></i>
            <i class="far fa-laugh-beam"></i>
            <input type="text" [(ngModel)]="newMessage" placeholder="Type your message here!" (keydown.enter)="onSendMessage()">
            <i class="fas fa-paper-plane" (click)="onSendMessage()"></i>
        </div>
    </div>
</div>
